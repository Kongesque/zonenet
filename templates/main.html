<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZoneNet</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.png') }}">
</head>

<body class="bg-bg-color text-text-color font-sans h-screen overflow-hidden flex flex-col">

    <div id="loading" class="loading-overlay">
        <img src="">
        <p></p>
        <span></span>
    </div>

    <header id="content" class="flex justify-between items-center px-2 py-2">
        <a href="{{ url_for('main') }}" class="no-underline">
            <div class="text-lg font-semibold text-text-color tracking-tight">ZoneNet</div>
        </a>
        <div class="flex items-center gap-2">
            <button class="btn-secondary">How to use</button>
            <a href="https://github.com/Kongesque" target="_blank"
                class="w-6 h-6 flex items-center justify-center rounded-full">
                <img src="{{ url_for('static', filename='img/github.svg') }}" class="w-6 h-6 invert opacity-80">
            </a>
        </div>
    </header>

    <main id="content"
        class="relative flex-1 flex items-center justify-center flex-col text-center mx-2 mb-2 mt-1 overflow-hidden bg-primary-color border border-primary-border rounded-md">

        <!-- Sidebar Icon -->
        <button class="absolute top-4 left-4 text-text-color">
            <img src="{{ url_for('static', filename='img/sidebar.svg') }}" class="w-4.5 h-4.5 invert opacity-80">
        </button>

        <div class="mb-4">
            <h1 class="text-3xl md:text-5xl font-bold text-text-color tracking-tight leading-tight">
                What do you want to count?
            </h1>
        </div>

        <div class="flex items-center justify-center px-4">

            <form id="uploadForm" method='POST' enctype="multipart/form-data" hidden>
                {{ form.hidden_tag() }}
                <div class="custom-file">
                    {{ form.file(class_="custom-file-input", id="fileInput", accept="video/*") }}
                    <label class="custom-file-label" for="customFile">New Upload file</label>
                </div>
                <input id="dummy" type="submit" name="anything_submit" value="Submit" onclick="loading();" hidden>
            </form>

            <label for="input-file" id="drop-area"
                class="w-full max-w-[420px] p-8 md:p-10 text-center rounded-xl cursor-pointer transition-all duration-200 border border-dashed border-gray-400 hover:border-text-color hover:bg-btn-hover">
                <div id="file-view" class="flex flex-col items-center gap-4 md:gap-6">
                    <div class="flex items-center gap-3">
                        <img src="{{ url_for('static', filename='img/upload.svg') }}" class="w-6 h-6 invert opacity-60">
                        <span class="text-text-color font-medium">Choose Files</span>
                    </div>
                    <p class="text-sm text-gray-300">or drop it here</p>
                    <div class="flex items-center gap-3">
                        <span class="px-3 py-1 text-xs text-gray-300 border border-gray-400 rounded-full">.MP4</span>
                        <span class="px-3 py-1 text-xs text-gray-300 border border-gray-400 rounded-full">.WebM</span>
                    </div>
                </div>
            </label>

        </div>
    </main>

    <script src="{{url_for('static', filename='script/main.js')}}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#loading').hide();
        });

        function loading() {
            $("header#content").hide();
            $("main#content").hide();
            $("footer#content").hide();
            $("#loading").show();
            $("#loading img").attr("src", "{{ url_for('static', filename='img/cow.gif') }}");
            $("#loading p").text("Uploading files...");
            $("#loading span").html("The process may take a moment, please<br>keep this window open.");
        };
    </script>
</body>

</html>