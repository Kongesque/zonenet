@import "tailwindcss";
@variant light (&:where(.light, .light *));


/* Geist Sans from Fontsource CDN */
@font-face {
    font-family: 'Geist Sans';
    font-style: normal;
    font-display: swap;
    font-weight: 100 900;
    src: url(https://cdn.jsdelivr.net/fontsource/fonts/geist-sans@latest/latin-variable-wghtOnly-normal.woff2) format('woff2');
}

@theme {
    --color-text-color: #EDEDED;
    --color-primary-color: #0A0A0A;


    --color-gray-300: #A1A1A1;
    --color-gray-400: #666666;

    --color-btn-border: #343434;

    --color-gray-500: #333333;

    --color-primary-border: #272727;

    --color-btn-hover: #1A1A1A;

    --color-btn-bg: #121212;

    --color-bg-color: #000000;

    /* Sidebar semantic tokens */
    --color-sidebar-foreground: #EDEDED;
    --color-sidebar-accent: #1A1A1A;

    --color-sidebar-item-hover: #252525;
    --color-sidebar-menu-hover: #454545;
    --color-delete-text: #DA3136;
    --color-muted-foreground: #A1A1A1;
    --color-secondary-text: #A0A0A0;
    --color-background: #000000;


    /* Dropzone specific tokens */
    --color-dropzone-border: #1F1F1F;
    --color-dropzone-accent: #1F6F65;
    --color-dropzone-hover-bg: #121212;

    --font-family-sans: 'Geist Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

:root {
    view-transition-name: root;
}

:root.light {
    --color-text-color: #0A0A0A;
    --color-primary-color: #FFFFFF;
    --color-gray-300: #525252;
    --color-gray-400: #737373;
    --color-btn-border: #E5E5E5;
    --color-gray-500: #A3A3A3;
    --color-primary-border: #E5E5E5;
    --color-btn-hover: #F5F5F5;
    --color-btn-bg: #FFFFFF;
    --color-bg-color: #FAFAFA;
    --color-sidebar-foreground: #0A0A0A;
    --color-sidebar-accent: #F5F5F5;
    --color-sidebar-item-hover: #F5F5F5;
    --color-sidebar-menu-hover: #E5E5E5;
    --color-secondary-text: #525252;
    --color-background: #FFFFFF;
    --color-dropzone-border: #E5E5E5;
    --color-dropzone-hover-bg: #F5F5F5;
}

:root.light .dark-only-invert {
    filter: none;
}

@utility drag-active {
    background-color: var(--color-sidebar-item-hover) !important;
    border-color: var(--color-dropzone-accent) !important;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@utility animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
}

@layer base {
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: var(--font-family-sans);
        background-color: var(--color-primary-color);
        color: var(--color-text-color);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        @apply transition-colors duration-200 ease-in-out;
    }

    * {
        @apply transition-colors duration-200 ease-in-out;
    }

    /* Thin scrollbar styling */
    ::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: var(--color-gray-500);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--color-gray-400);
    }

    /* Firefox scrollbar */
    * {
        scrollbar-width: thin;
        scrollbar-color: var(--color-gray-500) transparent;
    }
}

@layer components {
    .btn-primary {
        @apply px-4 py-2 bg-btn-bg text-text-color border border-btn-border rounded-md text-sm font-medium transition-all duration-200 cursor-pointer;
    }

    .btn-primary:hover {
        @apply bg-btn-hover;
    }

    .btn-secondary {
        @apply px-2 py-1 bg-btn-bg text-text-color border border-btn-border rounded-md text-sm font-medium transition-all duration-200 cursor-pointer;
    }

    .btn-secondary:hover {
        @apply bg-btn-hover;
    }

    .loading-overlay {
        @apply w-full h-full flex flex-col items-center justify-center text-center absolute bg-bg-color;
    }

    .loading-overlay img {
        @apply max-w-[200px] rounded-lg;
    }

    .loading-overlay p {
        @apply text-xl font-semibold mt-4 text-text-color;
    }

    .loading-overlay span {
        @apply text-sm text-gray-300 mt-2;
    }

    .card {
        @apply bg-btn-hover border border-gray-500 rounded-xl;
    }

    .option {
        @apply w-6 h-6 md:w-5 md:h-5 rounded-full cursor-pointer transition-all duration-200 opacity-60 hover:opacity-100;
    }

    .option.selected {
        @apply opacity-100 ring-2 ring-text-color ring-offset-2 ring-offset-btn-hover;
    }

    .mask-icon {
        -webkit-mask-repeat: no-repeat;
        mask-repeat: no-repeat;
        -webkit-mask-position: center;
        mask-position: center;
        -webkit-mask-size: contain;
        mask-size: contain;
        -webkit-mask-image: var(--mask-url);
        mask-image: var(--mask-url);
    }

    /* Live Stream Page */
    #live-video {
        max-width: 100%;
        height: auto;
        border-radius: 0.5rem;
    }

    .status-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        animation: pulse 2s infinite;
    }

    .status-live {
        background-color: #22c55e;
    }

    .status-connecting {
        background-color: #eab308;
    }

    .status-stopped {
        background-color: #6b7280;
        animation: none;
    }
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}